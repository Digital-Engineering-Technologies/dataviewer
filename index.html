<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
		<title>My first three.js app</title>
		<style>
            body {
              margin: 0;
              padding: 0;
            }
            .full-screen {
              width: 100vw;
              height: 100vh;
              position: relative;
              overflow: hidden;
            }
          </style>
    </head>
    <body>
        <div class="full-screen" id="container"></div>
        <script type="importmap">
            {
              "imports": {
                "three": "./node_modules/three/build/three.module.js",
                "three/examples/jsm/libs/lil-gui.module.min": "https://unpkg.com/three@0.160.1/examples/jsm/libs/lil-gui.module.min.js",
                "stats.js/src/Stats.js": "./node_modules/stats-js/src/Stats.js",
                "openbim-components": "./node_modules/openbim-components/openbim-components.js"
              }
            }
        </script>
        <script type="module">
            
            import * as THREE from 'three';
            import * as dat from 'three/examples/jsm/libs/lil-gui.module.min';
            import Stats from 'stats.js/src/Stats.js';
            import * as OBC from 'openbim-components';

            const container = document.getElementById('container');

	const components = new OBC.Components();

	components.scene = new OBC.SimpleScene(components);
	//components.renderer = new OBC.SimpleRenderer(components, container);
  components.renderer = new OBC.PostproductionRenderer(components, container);
	components.camera = new OBC.OrthoPerspectiveCamera(components);
	components.raycaster = new OBC.SimpleRaycaster(components);

	components.init();

	const scene = components.scene.get();
  window.OBC = OBC
  window.components = components

  window.controls = components.camera.controls

  const camera = components.camera.get()
  //camera..maxDistance = 100

	components.camera.controls.setLookAt(10, 10, 10, 0, 0, 0);

	  components.scene.setup();

      components.renderer.postproduction.enabled = true;

    const ambientLight = new THREE.AmbientLight();
    ambientLight.intensity = 1.;
    scene.add(ambientLight);

    const cubeGeometry = new THREE.BoxGeometry(3, 3, 3);
	const cubeMaterial = new THREE.MeshStandardMaterial({color: '#6528D7'});
	const cube = new THREE.Mesh(cubeGeometry, cubeMaterial);
	cube.position.set(0, 1.5, 0);

    /*MD
    Now, we will add the Cube to the `Scene`. We must also add the **cube** to `components.meshes`,
    which is simply an array of all the meshes in the Scene üóÑÔ∏è.
     */
	scene.add(cube);
	components.meshes.add(cube);

        </script>
    </body>
</html>